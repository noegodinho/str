clear all;
clc;

%% Dados do sinal
A = [45.070143 14.929857 -25.070143 -34.929857 5.070143 45.070143];
B = [A 14.929857 -25.070143 -34.929857 5.070143 45.070143 14.929857];
C = [B -25.070143 -34.929857 5.070143 45.070143 14.929857 -25.070143];
Sinal = [C -34.929857 5.070143 45.070143];

%% Sinal original
subplot(3,2,1:2);
plot(Sinal);
title('Sinal Original');

%% FFT
X = fft(Sinal);
[linha,coluna] = size(X)
nVal = 0:coluna-1;
subplot(3,2,3);
plot(nVal,abs(X));
title('FFT feito pelo Matlab');

%% Meus calculos do FFT
k = [65.350714+i*0.000000 46.048967+i*5.667151 53.799917+i*13.311711];
l = [k 78.784404+i*29.384774 370.945714+i*183.528319 -70.547410-i*41.715297];
m = [l -22.723912-i*13.077706 -9.859871-i*0.000271 -4.781172+i*30.176820];
n = [m -0.990411-i*23.565007 -0.116622-i*4.705090 -0.116639+i*4.704421];
o = [n -0.990586+i*23.564114 -4.780480-i*30.177741 -9.859401-i*0.000542];
p = [o -22.723259+i*13.076565 -70.545797+i*41.712832 370.949361-i*183.524143];
my_fft = [p 78.784054-i*29.383594 53.799767-i*13.311042 46.048974-i*5.666649];
subplot(3,2,4);
plot(nVal,abs(my_fft));
title('FFT feito por nos');

%% Auto correlação
Rxx = xcorr(Sinal);
subplot(3,2,5);
plot(Rxx);
title('Auto-correlacao feito pelo Matlab');

%% Meus calculos da autocorrelação
a = [2031.317772 901.402856 -2628.512060 -3352.815552 1225.706348];
b = [a 6159.849512 2127.109204 -5905.631104 -6629.934596 2451.412696];
c = [b 10288.381252 3352.815552 -9182.750148 -9907.053640 3677.119044];
d = [c 14416.912992 4578.521900 -12459.869192 -13184.172684 4902.825392];
e = [d 16514.126960 4902.825392 -13184.172684 -12459.869192 4578.521900];
f = [e 14416.912992 3677.119044 -9907.053640 -9182.750148 3352.815552];
g = [f 10288.381252 2451.412696 -6629.934596 -5905.631104 2127.109204];
h = [g 6159.849512 1225.706348 -3352.815552 -2628.512060 901.402856];
my_corr = [h 2031.317772];

subplot(3,2,6);
plot(my_corr);
title('Auto-correlacao feito por nos');